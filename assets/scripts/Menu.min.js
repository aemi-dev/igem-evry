class Menu{constructor(){this.items=[],this.structure=new Map,arguments.length>0&&this.load(...arguments),console.log(this)}load(){const t=[...arguments].filter(({text:t,href:e})=>isset(t)&&isset(e));let e=0;for(const{text:s,href:r,target:i,rel:l,children:h,title:u}of t){let t=e,a=[];if(e=this.items.push(ecs({$:"a",attr:{href:r,target:i,rel:l,title:u},_:s})),h&&h instanceof Array&&h.filter(({text:t,href:e})=>isset(t)&&isset(e)).length>0)for(const{text:t,href:s,target:r,rel:i,title:l}of h)a.push(e),e=this.items.push(ecs({$:"a",attr:{href:s,target:r,rel:i,title:l},_:t}));this.structure.set(t,a)}}html(){return ecs({$:"ul",class:["menu"],_:[...this.structure.keys()].map(t=>({$:"li",class:["menu-item"],_:[this.items[t],{$:"ul",class:["sub-menu"],_:this.structure.get(t).map(t=>({$:"li",class:["sub-menu-item"],_:[this.items[t]]}))}]}))})}}